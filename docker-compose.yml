# SPDX-License-Identifier: Apache-2.0
version: "3.8"
services:
  api:
    build: .
    ports: ["8080:8080"]
  prometheus:
    image: prom/prometheus:latest
    volumes: ["./monitoring/prometheus.yml:/etc/prometheus/prometheus.yml"]
    ports: ["9090:9090"]
  grafana:
    image: grafana/grafana-oss:latest
    ports: ["3000:3000"]
    environment:
      - GF_SECURITY_ADMIN_PASSWORD=admin
  otel:
    image: otel/opentelemetry-collector-contrib:latest
    command: ["--config=/etc/otel-collector-config.yaml"]
    volumes: ["./deploy/otel-collector.yaml:/etc/otel-collector-config.yaml"]
